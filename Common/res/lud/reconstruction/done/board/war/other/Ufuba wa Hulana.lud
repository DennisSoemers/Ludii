(game "Ufuba wa Hulana"
    <Variant>
)

//------------------------------------------------------------------------------

(option "Variant" <Variant> args:{ <variant> }
    {
    (item "Ufuba wa Hulana1" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (custodial 
                            (from 
                                (last To)
                            )
                            Orthogonal 
                            (between 
                                (max 1)
                                if:
                                (is Enemy 
                                    (who at:
                                        (between)
                                    )
                                )
                                
                                (apply 
                                    (remove 
                                        (between)
                                    )
                                )
                            )
                            
                            (to if:
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (is Line 3 Orthogonal)
                    
                    (result Mover Win)
                )
            )
        )
        
    > "The Ufuba wa Hulana1 ruleset.")
    
    (item "Ufuba wa Hulana2" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (and 
                            (custodial 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between 
                                    (max 1)
                                    if:
                                    (is Enemy 
                                        (who at:
                                            (between)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                            
                            (surround 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between if:
                                    (and 
                                        (is Enemy 
                                            (who at:
                                                (between)
                                            )
                                        )
                                        
                                        (is In 
                                            (between)
                                            
                                            (sites Corners)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (no Pieces Next)
                    
                    (result Next Loss)
                )
            )
        )
        
    > "The Ufuba wa Hulana2 ruleset.")
    
    (item "Ufuba wa Hulana3" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (and 
                            (custodial 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between 
                                    (max 1)
                                    if:
                                    (is Enemy 
                                        (who at:
                                            (between)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                            
                            (surround 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between if:
                                    (and 
                                        (is Enemy 
                                            (who at:
                                                (between)
                                            )
                                        )
                                        
                                        (is In 
                                            (between)
                                            
                                            (sites Corners)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end { 
                (if 
                    (no Moves P2)
                    
                    (result P1 Win)
                )
                
                (if 
                    (< 
                        (count Pieces P1)
                    2)
                    
                    (result P2 Win)
                )
                }
            )
        )
        
    > "The Ufuba wa Hulana3 ruleset.")
    
    (item "Ufuba wa Hulana4" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (custodial 
                            (from 
                                (last To)
                            )
                            Orthogonal 
                            (between 
                                (max 1)
                                if:
                                (is Enemy 
                                    (who at:
                                        (between)
                                    )
                                )
                                
                                (apply 
                                    (remove 
                                        (between)
                                    )
                                )
                            )
                            
                            (to if:
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (is Line 3 Orthogonal)
                    
                    (result Mover Win)
                )
            )
        )
        
    > "The Ufuba wa Hulana4 ruleset.")
    
    (item "Ufuba wa Hulana5" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (and 
                            (custodial 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between 
                                    (max 1)
                                    if:
                                    (is Enemy 
                                        (who at:
                                            (between)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                            
                            (surround 
                                (from 
                                    (last To)
                                )
                                Orthogonal 
                                (between if:
                                    (and 
                                        (is Enemy 
                                            (who at:
                                                (between)
                                            )
                                        )
                                        
                                        (is In 
                                            (between)
                                            
                                            (sites Corners)
                                        )
                                    )
                                    
                                    (apply 
                                        (remove 
                                            (between)
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Friend 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (and 
                        (all Sites 
                            (sites Hand Next)
                            if:
                            (= 0 
                                (count Cell at:
                                    (site)
                                )
                            )
                        )
                        
                        (no Pieces Next)
                    )
                    
                    (result Mover Win)
                )
            )
        )
        
    > "The Ufuba wa Hulana5 ruleset.")
    
    (item "Ufuba wa Hulana6" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (custodial 
                            (from 
                                (last To)
                            )
                            Orthogonal 
                            (between 
                                (max 1)
                                if:
                                (and 
                                    (is Enemy 
                                        (who at:
                                            (between)
                                        )
                                    )
                                    
                                    (!= 
                                        (centrePoint)
                                        
                                        (between)
                                    )
                                )
                                
                                (apply 
                                    (and 
                                        (remove 
                                            (between)
                                        )
                                        
                                        (if 
                                            (or { 
                                                (can Move 
                                                    (custodial 
                                                        (from 
                                                            (ahead 
                                                                (last To)
                                                            N )
                                                        )
                                                        Orthogonal 
                                                        (between 
                                                            (max 1)
                                                            if:
                                                            (and 
                                                                (is Enemy 
                                                                    (who at:
                                                                        (between )
                                                                    )
                                                                )
                                                                
                                                                (!= 
                                                                    (centrePoint )
                                                                    
                                                                    (between )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (to if:
                                                            (is Friend 
                                                                (who at:
                                                                    (to )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                
                                                (can Move 
                                                    (custodial 
                                                        (from 
                                                            (ahead 
                                                                (last To)
                                                            E )
                                                        )
                                                        Orthogonal 
                                                        (between 
                                                            (max 1)
                                                            if:
                                                            (and 
                                                                (is Enemy 
                                                                    (who at:
                                                                        (between )
                                                                    )
                                                                )
                                                                
                                                                (!= 
                                                                    (centrePoint )
                                                                    
                                                                    (between )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (to if:
                                                            (is Friend 
                                                                (who at:
                                                                    (to )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                
                                                (can Move 
                                                    (custodial 
                                                        (from 
                                                            (ahead 
                                                                (last To)
                                                            W )
                                                        )
                                                        Orthogonal 
                                                        (between 
                                                            (max 1)
                                                            if:
                                                            (and 
                                                                (is Enemy 
                                                                    (who at:
                                                                        (between )
                                                                    )
                                                                )
                                                                
                                                                (!= 
                                                                    (centrePoint )
                                                                    
                                                                    (between )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (to if:
                                                            (is Friend 
                                                                (who at:
                                                                    (to )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                
                                                (can Move 
                                                    (custodial 
                                                        (from 
                                                            (ahead 
                                                                (last To)
                                                            S )
                                                        )
                                                        Orthogonal 
                                                        (between 
                                                            (max 1)
                                                            if:
                                                            (and 
                                                                (is Enemy 
                                                                    (who at:
                                                                        (between )
                                                                    )
                                                                )
                                                                
                                                                (!= 
                                                                    (centrePoint )
                                                                    
                                                                    (between )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (to if:
                                                            (is Friend 
                                                                (who at:
                                                                    (to )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                }
                                            )
                                            
                                            (moveAgain)
                                            
                                            (if 
                                                (no Moves Next)
                                                
                                                (and 
                                                    (set Pending)
                                                    
                                                    (moveAgain)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                            
                            (to if:
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (no Pieces Next)
                    
                    (result Next Loss)
                )
            )
        )
        
    > "The Ufuba wa Hulana6 ruleset.")
    
    (item "Ufuba wa Hulana7" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (custodial 
                            (from 
                                (last To)
                            )
                            Orthogonal 
                            (between 
                                (max 1)
                                if:
                                (is Enemy 
                                    (who at:
                                        (between)
                                    )
                                )
                                
                                (apply 
                                    (remove 
                                        (between)
                                    )
                                )
                            )
                            
                            (to if:
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (then 
                                (if 
                                    (can Move 
                                        (step 
                                            (from 
                                                (last To)
                                            )
                                            Orthogonal 
                                            (to if:
                                                (and 
                                                    (is Empty 
                                                        (to)
                                                    )
                                                    
                                                    (or { 
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    W )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 W )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    E )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 E )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    N )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 N )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    S )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 S )
                                                                )
                                                            )
                                                        )
                                                        }
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    
                                    (moveAgain)
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (<= 
                        (count Pieces Next)
                    2)
                    
                    (result Next Loss)
                )
            )
        )
        
    > "The Ufuba wa Hulana7 ruleset.")
    
    (item "Ufuba wa Hulana8" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (move Step Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                    )
                    
                    (then 
                        (custodial 
                            (from 
                                (last To)
                            )
                            Orthogonal 
                            (between 
                                (max 1)
                                if:
                                (is Enemy 
                                    (who at:
                                        (between)
                                    )
                                )
                                
                                (apply 
                                    (remove 
                                        (between)
                                    )
                                )
                            )
                            
                            (to if:
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (then 
                                (if 
                                    (can Move 
                                        (step 
                                            (from 
                                                (last To)
                                            )
                                            Orthogonal 
                                            (to if:
                                                (and 
                                                    (is Empty 
                                                        (to)
                                                    )
                                                    
                                                    (or { 
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    W )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 W )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    E )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 E )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    N )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 N )
                                                                )
                                                            )
                                                        )
                                                        
                                                        (and 
                                                            (is Enemy 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    S )
                                                                )
                                                            )
                                                            
                                                            (is Friend 
                                                                (who at:
                                                                    (ahead 
                                                                        (to )
                                                                    steps:2 S )
                                                                )
                                                            )
                                                        )
                                                        }
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    
                                    (moveAgain)
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (is Line 3 Orthogonal)
                    
                    (result Mover Win)
                )
            )
        )
        
    > "The Ufuba wa Hulana8 ruleset.")
    
    (item "Ufuba wa Hulana9" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (or 
                    (move Step Orthogonal 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Hop Orthogonal 
                        (between 
                            (range 1 
                                (count Rows)
                            )
                            if:
                            (is Enemy 
                                (who at:
                                    (between)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (between)
                                )
                            )
                        )
                        
                        (to if:
                            (or 
                                (and 
                                    (is In 
                                        (to)
                                        
                                        (sites Outer)
                                    )
                                    
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                                
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (is Line 3 Orthogonal)
                    
                    (result Mover Win)
                )
            )
        )
        
    > "The Ufuba wa Hulana9 ruleset.")
    
    (item "Ufuba wa Hulana10" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 5)
            )
            
            (piece "Marker" Each 
                (or 
                    (move Step Orthogonal 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Hop Orthogonal 
                        (between 
                            (range 1 
                                (count Rows)
                            )
                            if:
                            (is Enemy 
                                (who at:
                                    (between)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (between)
                                )
                            )
                        )
                        
                        (to if:
                            (or 
                                (and 
                                    (is In 
                                        (to)
                                        
                                        (sites Outer)
                                    )
                                    
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                )
                                
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (hand Each)
            }
        )
        
        (rules 
            (start 
                (place "Marker" "Hand" count:12)
            )
            phases:{ 
            (phase "Placement" 
                (play 
                    (move 
                        (from 
                            (handSite Mover)
                        )
                        
                        (to 
                            (sites Empty)
                        )
                    )
                )
                
                (nextPhase Mover 
                    (all Sites 
                        (sites Hand Mover)
                        if:
                        (= 0 
                            (count Cell at:
                                (site)
                            )
                        )
                    )
                "Movement")
            )
            
            (phase "Movement" 
                (play 
                    (forEach Piece)
                )
            )
            }
            
            (end 
                (if 
                    (no Pieces Next)
                    
                    (result Next Loss)
                )
            )
        )
        
    > "The Ufuba wa Hulana10 ruleset.")
    
    (item "Incomplete"
        <
        (players 2) 
        (equipment { 
            (board (square 5))
            (piece "Marker" Each [#]) // Capture involved.
            (hand Each)
        })
        (rules
            (start (place "Marker" "Hand" count:12))
            
            phases:{
            (phase "Placement"
                (play
                    (move 
                        (from (handSite Mover)) 
                        (to (sites Empty)) 
                    )
                ) 
                (nextPhase Mover ("HandEmpty" Mover) "Movement")
            )
            
            ("PhaseMovePiece" "Movement")
            }
            
            (end [#])
        )
        >
        "The incomplete ruleset."
    )
    
})

//------------------------------------------------------------------------------

(rulesets {
    
    (ruleset "Ruleset/Ufuba wa Hulana1 (Reconstructed)" {
        "Variant/Ufuba wa Hulana1"
    })
    (ruleset "Ruleset/Ufuba wa Hulana2 (Reconstructed)" {
        "Variant/Ufuba wa Hulana2"
    })
    (ruleset "Ruleset/Ufuba wa Hulana3 (Reconstructed)" {
        "Variant/Ufuba wa Hulana3"
    })
    (ruleset "Ruleset/Ufuba wa Hulana4 (Reconstructed)" {
        "Variant/Ufuba wa Hulana4"
    })
    (ruleset "Ruleset/Ufuba wa Hulana5 (Reconstructed)" {
        "Variant/Ufuba wa Hulana5"
    })
    (ruleset "Ruleset/Ufuba wa Hulana6 (Reconstructed)" {
        "Variant/Ufuba wa Hulana6"
    })
    (ruleset "Ruleset/Ufuba wa Hulana7 (Reconstructed)" {
        "Variant/Ufuba wa Hulana7"
    })
    (ruleset "Ruleset/Ufuba wa Hulana8 (Reconstructed)" {
        "Variant/Ufuba wa Hulana8"
    })
    (ruleset "Ruleset/Ufuba wa Hulana9 (Reconstructed)" {
        "Variant/Ufuba wa Hulana9"
    })
    (ruleset "Ruleset/Ufuba wa Hulana10 (Reconstructed)" {
        "Variant/Ufuba wa Hulana10"
    }) 
    
    (ruleset "Ruleset/Historical Information (Incomplete)" {
        "Variant/Incomplete"
    })
    
})

//------------------------------------------------------------------------------

(metadata 
    
    (info
        {
        (description "Ufuba wa Hulana is a game that was played in Comoros during the seventeenth century. ")
        (aliases {"Ufuba"})
        (useFor "Ruleset/Historical Information (Incomplete)" (rules "5x5 board. Twelve pieces per player. Players alternate turns placing a piece on the board. When the pieces are placed, pieces are captured. "))
        (useFor "Ruleset/Historical Information (Incomplete)" (source "DLP evidence."))
        (useFor "Ruleset/Historical Information (Incomplete)" (id "960"))
        (useFor "Ruleset/Ufuba wa Hulana1 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If a player places 3 of their pieces in an orthogonal direction line, the moving player wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana1 (Reconstructed)" (id "2528"))
        (useFor "Ruleset/Ufuba wa Hulana2 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between and for all surrounded pieces on Cells starting from the to location of the last move with Orthogonal direction if the target is there is an enemy Player at between and between is in the corner sites of the board if the friend is is a friend except if 0remove pieces at between.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If there are no pieces owned by Player the next player, the next player loses.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana2 (Reconstructed)" (id "2529"))
        (useFor "Ruleset/Ufuba wa Hulana3 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between and for all surrounded pieces on Cells starting from the to location of the last move with Orthogonal direction if the target is there is an enemy Player at between and between is in the corner sites of the board if the friend is is a friend except if 0remove pieces at between.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If player two cannot move, player one wins If the number of null owned by Player 1 is less than 2, player two wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana3 (Reconstructed)" (id "2530"))
        (useFor "Ruleset/Ufuba wa Hulana4 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If a player places 3 of their pieces in an orthogonal direction line, the moving player wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana4 (Reconstructed)" (id "2531"))
        (useFor "Ruleset/Ufuba wa Hulana5 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between and for all surrounded pieces on Cells starting from the to location of the last move with Orthogonal direction if the target is there is an enemy Player at between and between is in the corner sites of the board if the friend is is a friend except if 0remove pieces at between.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If all sites in the sites in Player the next player's hand satisfy the condition 0 is equal to the total number of cell in current site and there are no pieces owned by Player the next player, the moving player wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana5 (Reconstructed)" (id "2532"))
        (useFor "Ruleset/Ufuba wa Hulana6 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between and the centre point of the board is not equal to between if the friend is is a friendremove pieces at between and if can move for all flanked pieces on Cells starting from  the Cell 1 steps ahead of the to location of the last move in the direction north with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between and the centre point of the board is not equal to between if the friend is is a friendremove pieces at between, can move for all flanked pieces on Cells starting from  the Cell 1 steps ahead of the to location of the last move in the direction east with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between and the centre point of the board is not equal to between if the friend is is a friendremove pieces at between, can move for all flanked pieces on Cells starting from  the Cell 1 steps ahead of the to location of the last move in the direction west with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between and the centre point of the board is not equal to between if the friend is is a friendremove pieces at between or can move for all flanked pieces on Cells starting from  the Cell 1 steps ahead of the to location of the last move in the direction south with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between and the centre point of the board is not equal to between if the friend is is a friendremove pieces at between, move again, else if the next player cannot move, set pending and move again.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If there are no pieces owned by Player the next player, the next player loses.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana6 (Reconstructed)" (id "2533"))
        (useFor "Ruleset/Ufuba wa Hulana7 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between then if can move step orthogonal, move again.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If the number of null owned by Player the next player is less than or equal to 2, the next player loses.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana7 (Reconstructed)" (id "2534"))
        (useFor "Ruleset/Ufuba wa Hulana8 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal then for all flanked pieces on Cells starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between then if can move step orthogonal, move again.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If a player places 3 of their pieces in an orthogonal direction line, the moving player wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana8 (Reconstructed)" (id "2535"))
        (useFor "Ruleset/Ufuba wa Hulana9 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal or hop orthogonal.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If a player places 3 of their pieces in an orthogonal direction line, the moving player wins.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana9 (Reconstructed)" (id "2536"))
        (useFor "Ruleset/Ufuba wa Hulana10 (Reconstructed)" (rules "The game Ufuba wa Hulana is played by two players on a 5x5 rectangle board with square tiling. 
                All players play with Markers.
                Rules for Pieces:
                Markers step orthogonal or hop orthogonal.
                Players take turns moving.
                Rules: 
                From cell in Player the moving player's hand site 0 to cell in the set of empty cells moveRule: true move one of your pieces.
                Aim: 
                If there are no pieces owned by Player the next player, the next player loses.
                
        "))
        (useFor "Ruleset/Ufuba wa Hulana10 (Reconstructed)" (id "2537"))
        (source "Murray 1951: 55.")
        (id "960")
        (version "1.3.8")
        (classification "board/war/reconstruction/done")
        (credit "Eric Piette")
        (origin "This game was played in Comoros, around 1694.")
        }
    )
    
    (graphics {
        (board Colour Phase0 (colour 223 178 110))
        (board Colour InnerEdges (colour Black))
        (board Colour OuterEdges (colour Black))
    })
    
    (recon {
        (concept "Capture" True)
    })
    
)

